## **1. Initial Reconnaissance**

During browsing, several requests were identified:

- `GET /cart`
- `POST /cart`
- `GET /api/checkout`
    
    → Shows structure for chosen_discount and chosen_products
    
- `POST /api/checkout`
    
    → The API endpoint responsible for processing orders
    

The GET request to /api/checkout revealed crucial internal fields:

```json
{
  "chosen_discount": { "percentage": 0 },
  "chosen_products": [
    {
      "product_id": "1",
      "name": "...",
      "quantity": 1,
      "item_price": 133700
    }
  ]
}
```

This told us:

- The server uses automatic JSON → object mapping
- Discounts are represented server-side but sent to user
- The object contains a writable percentage field

These are classic signs of mass assignment risk.

---

## **2. Testing Methodology**

I attempted to tamper with the JSON object sent to /api/checkout.

First attempt: manipulate item price.

```json
{
  "chosen_products": [
    {"product_id":"1","quantity":1,"item_price":0}
  ]
}
```

→ Server ignored the price change.

Second attempt: add or modify unrelated fields.

This did nothing, confirming that mass assignment was present but not all fields were used.

Then I tried modifying the discount object.

## **3. Payload Construction**

Based on the structure from the GET request, I added a new discount object:

```json
{
  "chosen_discount": { "percentage": 100 },
  "chosen_products": [
    { "product_id":"1", "quantity":1 }
  ]
}
```

This mirrors the backend structure, allowing the framework to bind the field automatically.

---

## **4. Results and Observations**

- The server accepted the percentage override.
- The total price became 0.
- Checkout succeeded.
- The lab was solved.

The key observation:

**Anything returned in API responses is a potential injection point in mass assignment cases.**
